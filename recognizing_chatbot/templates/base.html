<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

  <head>
    <meta charset="UTF-8" />
    <title>Quick, Draw! Webapp</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />

<!--    <link-->
<!--      rel="stylesheet"-->
<!--      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"-->
<!--      crossorigin="anonymous"-->
<!--    />-->
      <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-tflite@0.0.1-alpha.8/dist/tf-tflite.min.js"></script>
      <script>
    var modelPath = "{{ url_for('static', filename='models/model.tflite') }}";
    </script>
      <script type="text/javascript" src="{{ url_for('static', filename='libs/p5.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='libs/chart.min.js') }}"></script>


  </head>

  <body>
<!--  <canvas width=1000%" height="780%" id="canvas">-->
<!--  </canvas>-->

     <div class="content py-3 mainblock">
        <div class="row">
          <div class="col-12 col-md-auto">
            <main >

			</main>
            <div class="buttons-container">
            </div>
          </div>
          <div class="col-12 col-md-auto">
<!--            <canvas-->
<!--              id="predictions"-->
<!--              role="img"-->
<!--              aria-label="Top 3 predictions"-->
<!--              height="500"-->
<!--              width="500"-->
<!--            ></canvas>-->
          </div>
        </div>
      </div>
    <div class="toolbox">
        <button title="Decrease Size" class="decrease"> -</button>
        <span title="Size" class="size">4</span>
        <button  title="Increase Size" class="increase">+</button>

        <div  class="color-changer">
            <label>üñåÔ∏è</label>
            <input title="Brush Color" type="color" class="color-picker color">
        </div>

        <div class="color-changer">
            <!--<label for="canvas-color">üé®</label>-->
            <input title="Canvas color" type="color" value="#ffffff" class="color-picker canvas-color">
        </div>
         <button  title="MagicBrush" class="magicBrush">ü™Ñ</button>
         <button  title="Eraser" class="eraser">üßΩ</button>
        <button title="Clear Canvas" class="clear">Clear All</button>


    </div>
    <div class="container">
    <div class="chatbox" >
        <div class="chatbox__support">
            <div class="chatbox__header">
                <div class="chatbox__image--header">
                    <img src="https://img.icons8.com/color/48/000000/circled-user-female-skin-type-5--v1.png" alt="image">
                </div>
                <div class="chatbox__content--header">
                    <h4 class="chatbox__heading--header">Your Art Assistant</h4>
                    <p class="chatbox__description--header"></p>
                </div>
            </div>
            <div class="chatbox__messages">
{#                <div class="image_exercise">#}
{#                    <img src="{{ url_for('static', filename='images/flower1.svg') }}" style="width: 350px; height: 350px" />#}
{#                </div>#}
            <div class="typing-message bounceM">
            </div>
            </div>
            <div class="chatbox__footer">
                <input type="text" placeholder="Write a message...">
                <button class="chatbox__send--footer send__button">Send</button>
            </div>
        </div>
        <div class="chatbox__button">
            <button><img src="{{ url_for('static', filename='images/chatbox-icon.svg') }}" /></button>
        </div>

    </div>
</div>


<script>
    // When the page loads, record the start time
    var startTime = new Date();

    function stopTimer() {
        var endTime = new Date();
        var timeSpent = (endTime - startTime) / 1000; // Time in seconds

        // Send the timeSpent back to the server
        fetch("/submit_time", {
            method: "POST",
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ timeSpent: timeSpent })
        })
        .then(response => response.json())
        .then(data => {
            console.log("Time submitted successfully:", data);
        })
        .catch((error) => {
            console.error("Error:", error);
        });
    }
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>

<script type="text/javascript">
    var userId = "{{ session['user_id'] }}";  // Pass user ID from Flask session to JavaScript
</script>

     <script>
        $SCRIPT_ROOT = {{ request.script_root|tojson }};
    </script>

 <script type="text/javascript" src="{{ url_for('static', filename='scripts/sketch.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='scripts/labels.js') }}"></script>

      <script type="text/javascript" src="{{ url_for('static', filename='scripts/app.js') }}"></script>


  </body>
</html>
